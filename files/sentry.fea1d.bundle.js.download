(window.wpRaisely=window.wpRaisely||[]).push([[6],{406:function(t,e,s){"use strict";s.d(e,"a",(function(){return x})),s.d(e,"b",(function(){return d}));var n=s(328);const r=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function c(t){return(t&&t.message||"No error message").split("\n").filter(t=>!!t)[0]}function u(t){try{const e=function(t){if(!t.stack)return null;const e=[],s=t.stack.split("\n");let n,a;for(let c=0;c<s.length;++c){if(n=r.exec(s[c]))a={filename:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],function:n[1]||"?",lineno:n[3]?+n[3]:null,colno:n[4]?+n[4]:null};else if(n=o.exec(s[c]))a={filename:n[2],function:n[1]||"?",lineno:+n[3],colno:n[4]?+n[4]:null};else{if(!(n=i.exec(s[c])))continue;0!==c||n[5]||void 0===t.columnNumber||(e[0].column=t.columnNumber+1),a={filename:n[3],function:n[1]||"?",lineno:n[4]?+n[4]:null,colno:n[5]?+n[5]:null}}!a.function&&a.lineno&&(a.function="?"),e.push(a)}return e.length?{value:c(t),type:t.name,stacktrace:{frames:e.reverse()}}:null}(t);if(e)return e}catch(t){}return{value:c(t),type:t&&t.name,stacktrace:{frames:[]}}}function l(t,e){return"[object RegExp]"===Object.prototype.toString.call(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e)}function h(){return window}class d extends class{constructor(t){if(t.dsn){const e=a.exec(t.dsn),s=e?e.slice(1):[],n=s[5].split("/"),r=n.slice(0,-1).join("/");this.apiUrl=s[0]+"://"+s[3]+(s[4]?":"+s[4]:"")+(r?"/"+r:"")+"/api/"+n.pop()+"/store/",this.authHeader="Sentry sentry_version=7,sentry_key="+s[1]+(s[2]?",sentry_secret="+s[2]:"")}this.environment=t.environment}prepare(t){return Object(n.a)(this.getRequestBlank(),{exception:{values:[u(t)]}})}report(t){this.send(this.prepare(t))}send(t){this.apiUrl&&t&&this.createRequest(t)}createRequest(t){const e=new XMLHttpRequest;e.open("POST",this.apiUrl,!0),e.setRequestHeader("Content-type","application/json"),e.setRequestHeader("X-Sentry-Auth",this.authHeader||""),e.send(JSON.stringify(t))}getRequestBlank(){return{platform:"javascript",sdk:{name:"micro-sentry.javascript.core",version:"0.0.0"},timestamp:Date.now()/1e3,environment:this.environment}}}{constructor(t,e=h()){super(t),this.options=t,this.window=e,this.destroyed=!1,this._state={};const{plugins:s=[],beforeSend:n=(t=>t),beforeBreadcrumb:r=(t=>t),blacklistUrls:i=[],ignoreErrors:o=[],release:a}=this.options||{};this.plugins=s.map(t=>new t(this)),this.beforeSend=n,this.beforeBreadcrumb=r,this.blacklistUrls=i,this.ignoreErrors=o,this.release=a}get state(){return this._state}clearState(){this._state={}}setTags(t){return this.setKeyState("tags",Object.assign({},t)),this}setTag(t,e){return this.extendState({tags:{[t]:e}}),this}setExtra(t,e){return this.extendState({extra:{[t]:e}}),this}setExtras(t){return this.setKeyState("extra",Object.assign({},t)),this}setUser(t){return this.setKeyState("user",Object.assign({},t)),this}clone(){const t=new d(Object.assign(Object.assign({},this.options),{plugins:[]}));return t.extendState(this.state),t}withScope(t){const e=this.clone();t(e),e.destroy(),this.setBreadcrumbs(void 0)}addBreadcrumb(t){this.extendState({breadcrumbs:[Object.assign({timestamp:Date.now()/1e3},this.beforeBreadcrumb(t))]})}setBreadcrumbs(t){this.setKeyState("breadcrumbs",t)}captureMessage(t,e){this.send(Object.assign(Object.assign({},this.getRequestBlank()),{message:t,level:e}))}destroy(){this.destroyed=!0,this.plugins.forEach(t=>{t.destroy&&t.destroy()})}isIgnoredError(t){return!!this.ignoreErrors.length&&this.getPossibleEventMessages(t).some(t=>this.ignoreErrors.some(e=>l(t,e)))}getRequestBlank(){return Object.assign(Object.assign(Object.assign({request:{url:this.window.location.toString(),headers:{"User-Agent":this.window.navigator.userAgent}}},super.getRequestBlank()),{sdk:{name:"micro-sentry.javascript.browser",version:"0.0.0"}}),this.state)}send(t){this.destroyed||this.isDeniedUrl(t)||this.isIgnoredError(t)||(super.send(this.beforeSend(Object.assign({release:this.release},t))),this.setBreadcrumbs(void 0))}getPossibleEventMessages(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:s=""}=t.exception.values&&t.exception.values[0]||{};return[""+s,`${e}: ${s}`]}catch(t){return[]}return[]}isDeniedUrl(t){if(!this.blacklistUrls.length)return!1;const e=this.getEventFilterUrl(t);return!!e&&this.blacklistUrls.some(t=>l(e,t))}getEventFilterUrl(t){try{if(t.exception){const e=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return e&&e[e.length-1].filename||null}return null}catch(t){return null}}extendState(t){this._state=Object.keys(t).reduce((e,s)=>{const r=this.state[s],i=Array.isArray(r)?r:null,o=t[s],a=Array.isArray(o)?o:null;return Object(n.a)(e,{[s]:i||a?[...i||[],...a||[]]:Object.assign(Object.assign({},"string"!=typeof r?r:{}),"string"!=typeof o?o:{})})},{})}setKeyState(t,e){this._state[t]=e}}function p(t,e,s){const n=t[e],r=s(n);if("function"==typeof r)try{r.prototype=r.prototype||{},Object.defineProperties(r,{__original__:{enumerable:!1,value:n}})}catch(t){}t[e]=r}function f(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const s=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+s+n}}function m(t=[]){return"Request"in window&&t[0]instanceof Request&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function g(t=[]){return"string"==typeof t[0]?t[0]:"Request"in window&&t[0]instanceof Request?t[0].url:String(t[0])}function y(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function b(){if(!function(){if(!("fetch"in window))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}())return!1;if(y(window.fetch))return!0;let t=!1;const e=window.document;if(e&&"function"==typeof e.createElement)try{const s=e.createElement("iframe");s.sandbox.add("allow-scripts"),s.sandbox.add("allow-same-origin"),s.hidden=!0,e.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=y(s.contentWindow.fetch)),e.head.removeChild(s)}catch(t){}return t}function w(t){const e=t,s=[];if(!e||!e.tagName)return"";s.push(e.tagName.toLowerCase()),e.id&&s.push("#"+e.id);const{className:n}=e;if(n&&"string"==typeof n){const t=n.split(/\s+/);s.concat(t.map(t=>"."+t))}return["type","name","title","alt","automation-id"].forEach(t=>{const n=e.getAttribute(t);n&&s.push(`[${t}="${n}"]`)}),s.join("")}function v(t){try{let e=t;const s=5,n=80,r=[];let i=0,o=0;const a=" > ",c=a.length;let u;for(;e&&i++<s&&(u=w(e),!("html"===u||i>1&&o+r.length*c+u.length>=n));)r.push(u),o+=u.length,e=e.parentNode;return r.reverse().join(a)}catch(t){return"<unknown>"}}function _(t,e=" "){return Array.isArray(t)?t.map(t=>{try{return String(t)}catch(t){return""}}).filter(t=>""!==t).join(e):""}class x{constructor(t){this.client=t,this.subscriptions=[],this.initDOM(),this.initConsole(),this.initFetch(),this.initHistory(),this.initXHR()}initXHR(){if(!("XMLHttpRequest"in window))return;const t=this,e=XMLHttpRequest.prototype;p(e,"open",e=>function(...s){const n=this,r=s[1];n.__sentry_xhr__={method:"string"==typeof s[0]?s[0].toUpperCase():s[0],url:s[1]},"string"==typeof r&&"POST"===n.__sentry_xhr__.method&&r.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const i=()=>{if(4===n.readyState){try{n.__sentry_xhr__&&(n.__sentry_xhr__.status_code=n.status)}catch(t){}t.xhrBreadcrumb({args:s,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?p(n,"onreadystatechange",t=>function(...e){i(),t.apply(n,e)}):n.addEventListener("readystatechange",i),e.apply(n,s)}),p(e,"send",e=>function(...s){return t.xhrBreadcrumb({args:s,startTimestamp:Date.now(),xhr:this}),e.apply(this,s)})}initHistory(){const t=this,e=window.onpopstate;function s(e){return function(...s){const n=s.length>2?s[2]:void 0;if(n){const e=t.lastHref,s=String(n);t.lastHref=s,t.historyBreadcrumb({from:e,to:s})}return e.apply(this,s)}}window.onpopstate=function(...s){const n=window.location.href,r=t.lastHref;if(t.lastHref=n,t.historyBreadcrumb({from:r,to:n}),e)return e.apply(this,s)},p(window.history,"pushState",s),p(window.history,"replaceState",s)}destroy(){this.subscriptions.forEach(t=>t())}initDOM(){const t=t=>this.prepareDomEvent("click",t),e=t=>this.prepareDomEvent("keypress",t);window.document.addEventListener("click",t,!1),window.document.addEventListener("keypress",e,!1),this.subscriptions.push(()=>{window.document.removeEventListener("click",t,!1),window.document.removeEventListener("keypress",e,!1)})}prepareDomEvent(t,e){let s;try{s=e.target?v(e.target):v(e)}catch(t){s="<unknown>"}0!==s.length&&this.client.addBreadcrumb({category:"ui."+t,message:s})}initFetch(){b()&&p(window,"fetch",t=>(...e)=>{const s={args:e,fetchData:{method:m(e),url:g(e)},startTimestamp:Date.now()};return this.fetchBreadcrumb(Object.assign({},s)),t.apply(window,e).then(t=>(this.fetchBreadcrumb(Object.assign(Object.assign({},s),{endTimestamp:Date.now(),response:t})),t),t=>{throw this.fetchBreadcrumb(Object.assign(Object.assign({},s),{endTimestamp:Date.now(),error:t})),t})})}fetchBreadcrumb(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?this.client.addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"}):this.client.addBreadcrumb({category:"fetch",data:Object.assign(Object.assign({},t.fetchData),{status_code:t.response.status}),type:"http"})))}xhrBreadcrumb(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;this.client.addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"})}else;}initConsole(){["debug","info","warn","error","log","assert"].forEach(t=>{t in window.console&&p(window.console,t,e=>(...s)=>{const n={category:"console",data:{arguments:s.map(t=>{try{return JSON.stringify(t),t}catch(e){return Object.prototype.toString.call(t)}}),logger:"console"},level:t,message:_(s," ")};if("assert"===t){if(!1!==s[0])return;n.message="Assertion failed: "+(_(s.slice(1)," ")||"console.assert"),n.data.arguments=s.slice(1)}this.client.addBreadcrumb(n),e&&Function.prototype.apply.call(e,window.console,s)})})}historyBreadcrumb(t){let e=t.from,s=t.to;const n=f(window.location.href);let r=f(e);const i=f(s);r.path||(r=n),n.protocol===i.protocol&&n.host===i.host&&(s=i.relative),n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),this.client.addBreadcrumb({category:"navigation",data:{from:e,to:s}})}}}}]);